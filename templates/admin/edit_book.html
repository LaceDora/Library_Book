{% extends "admin/base.html" %}
{% block content %}

<div class="container" style="max-width: 700px;">
  <h3 class="text-warning mb-4 text-center">Chỉnh sửa sách</h3>
  <form method="POST" action="{{ url_for('admin_bp.edit_book', book_id=book.id) }}">
    <div class="mb-3">
      <label class="form-label">Tên sách</label>
      <input type="text" name="title" class="form-control" value="{{ book.title }}" required>
    </div>
    <div class="mb-3">
      <label class="form-label">Tác giả</label>
      <input type="text" name="author" class="form-control" value="{{ book.author }}" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Thể loại</label>
      <select name="category" class="form-select">
        <option value="">-- Chọn thể loại --</option>
        {% for c in categories %}
        <option value="{{ c }}" {% if book.category == c %}selected{% endif %}>{{ c }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="mb-3">
      <label class="form-label">Link ảnh (URL)</label>
      <input type="text" name="image_url" class="form-control" value="{{ book.image_url }}">
    </div>
    <div class="mb-3">
      <label class="form-label">Số lượng</label>
      <input type="number" name="quantity" class="form-control" value="{{ book.quantity }}" min="0">
    </div>

    <div class="mb-3">
      <label class="form-label">Mô tả sách</label>
      <textarea name="description" class="form-control" rows="4">{{ book.description }}</textarea>
    </div>

    <div class="form-check mb-3">
      <input class="form-check-input" type="checkbox" id="is_active" name="is_active" value="1" {% if book.is_active %}checked{% endif %}>
      <label class="form-check-label" for="is_active">Đang hiển thị (is_active)</label>
    </div>

    <div class="d-flex">
  <a href="{{ url_for('admin_bp.books') }}" class="btn btn-secondary me-2">Quay lại</a>
      <button type="submit" class="btn btn-warning ms-auto">Cập nhật</button>
    </div>
  </form>
</div>

{% endblock %}
